@page "/cadastro"
@using Adm.Models
@model CadastroModel

<h1>Cadastro de Produtos</h1>

<form method="post" asp-action="Index" asp-controller="Cadastro">
    <input type="hidden" name="codigoProdutoPreExistente" value="@(Html.ViewData.Model.ProdutoPreExistente?.Codigo ?? "null")">
    <input type="hidden" name="idExistente" value="@(Html.ViewData.Model.ProdutoPreExistente?.ID.ToString() ?? "null")">
    
    <div class="form-group">
        <label for="codigo"> Código:</label>
        <input type="text" class="form-control" id="codigo" name="codigo" placeholder="Informe o código do produto" value="@Html.ViewData.Model.ProdutoPreExistente?.Codigo" />
    </div>
    <div class="form-group">
        <label for="descricao">Descrição:</label>
        <input type="text" class="form-control" id="descrição" name="descricao" placeholder="Informe a descrição do produto" value="@Html.ViewData.Model.ProdutoPreExistente?.Descricao" />
    </div>
    <div class="form-group">
        <label for="departamento">Departamento:</label>
        <select name="departamentos" class="form-control" id="departamentoDropdown">
            <option value="">Selecione o Departamento</option>
            @foreach (var dp in Html.ViewData.Model.Departamentos)
            {
                <option value="@dp.Codigo">@dp.Codigo | @dp.Descricao</option>
            }
        </select>
    </div>
    <div class="form-group">
        <label for="preco"> Preco: </label>
        <input type="number" class="form-control" id="preco" name="preco" placeholder="Informe o preço do produto" value="@Html.ViewData.Model.ProdutoPreExistente?.Preco" />
    </div>
    <div class="form-check">
        <input type="checkbox" class="form-check-input" id="status" name="status"/>
        <label class="form-check-label" for="status" @(Html.ViewData.Model.ProdutoPreExistente?.Status is true ? "selected" : "")>Ativo</label>
    </div>
    <button type="submit" class="btn btn-primary" formmethod="post"> Salvar </button>
</form>
